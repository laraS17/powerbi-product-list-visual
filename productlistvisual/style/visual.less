/* ==========================================
   DESIGN SYSTEM - Variables
   ========================================== */

/* Couleurs Primaires */
@primary-700: #471DD1;
@primary-600: #613BFF;
@primary-500: #8775FF;
@primary-200: #DBD7FF;
@primary-100: #F1F0FF;

/* Couleurs Neutres */
@neutral-0: #FFFFFF;
@neutral-100: #F6F6F9;
@neutral-150: #EAEAEF;
@neutral-200: #DCDCE4;
@neutral-300: #C0C0CF;
@neutral-400: #A5A5BA;
@neutral-500: #8E8EA9;
@neutral-600: #666687;
@neutral-700: #4A4A6A;
@neutral-800: #32324D;
@neutral-900: #212134;
@neutral-1000: #181826;

/* Menu color */
@menu-color: #062745;

/* Espacements */
@space-1: 4px;
@space-2: 8px;
@space-3: 10px;
@space-4: 12px;
@space-5: 16px;
@space-6: 20px;
@space-7: 24px;
@space-8: 32px;
@space-9: 40px;
@space-10: 48px;
@space-11: 56px;
@space-12: 64px;

/* Border radius */
@border-radius: 4px;

/* Font */
@font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;

/* ==========================================
   ROOT
   ========================================== */
.product-list-root {
  font-family: @font-family;
  padding: @space-7;
  box-sizing: border-box;
  background: @neutral-0;
}

.empty-state {
  font-size: 14px;
  color: @neutral-500;
  text-align: center;
  padding: @space-8;
}

/* ==========================================
   HEADER avec titre, icône et compteur
   ========================================== */
.product-table-header {
  background: @neutral-100;
  padding: @space-5 @space-6;
  border-bottom: 1px solid @neutral-200;
  margin-bottom: 0;
}

.product-table-title {
  display: flex;
  align-items: center;
  gap: @space-4;
}

.product-table-icon {
  width: @space-8; /* 32px */
  height: @space-8; /* 32px */
  background: @primary-600;
  border-radius: @border-radius;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: 22px;
    height: 22px;
    display: block;
  }

  path {
    stroke: @neutral-0;
    fill: none;
  }
}

.product-table-title-text {
  /* Header 3 du design system */
  font-size: 15px;
  font-weight: 600; /* Semibold */
  line-height: 20px;
  color: #1A202C;
  margin: 0;
}

.product-count-text {
  margin-left: auto;
  font-size: 13px;
  font-weight: 500;
  color: @neutral-600;

  strong {
    font-weight: 700;
    color: @neutral-900;
  }
}

/* ==========================================
   TABLEAU Container
   ========================================== */
.product-table-container {
  display: flex;
  flex-direction: column;
  background: @neutral-0;
  border: 1px solid @neutral-200;
  border-radius: @border-radius;
  overflow: hidden;
}

.product-table-scroll {
  overflow-y: auto;
  max-height: 600px; /* Hauteur max pour le scroll */
}

/* ==========================================
   HEADER du tableau
   ========================================== */
.product-header-row {
  display: grid;
  grid-template-columns: 40px 80px minmax(120px, 1.6fr) minmax(80px, 1fr) minmax(100px, 1.2fr) minmax(70px, 0.9fr) minmax(80px, 0.9fr) 70px 40px;
  column-gap: @space-4;
  align-items: center;
  padding: @space-4 @space-6;
  background: @menu-color;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  position: sticky;
  top: 0;
  z-index: 10;
}

.product-header-cell {
  /* Table label du design system */
  font-size: 11px;
  font-weight: 600; /* Bold */
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: @neutral-0;
  white-space: nowrap;
  cursor: default;

  &.sortable {
    cursor: pointer;
    user-select: none;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    gap: @space-1;

    &:hover {
      opacity: 0.8;
    }

    .sort-icon {
      display: inline-flex;
      flex-direction: column;
      width: 12px;
      height: 12px;
      opacity: 0.4;

      svg {
        width: 100%;
        height: 100%;
      }
    }

    &.sort-asc .sort-icon {
      opacity: 1;
    }

    &.sort-desc .sort-icon {
      opacity: 1;
      transform: rotate(180deg);
    }
  }
}

/* ==========================================
   LIGNES du tableau
   ========================================== */
.product-row {
  display: grid;
  grid-template-columns: 40px 80px minmax(120px, 1.6fr) minmax(80px, 1fr) minmax(100px, 1.2fr) minmax(70px, 0.9fr) minmax(80px, 0.9fr) 70px 40px;
  column-gap: @space-4;
  align-items: center;
  padding: @space-4 @space-6;
  background: @neutral-0;
  border-bottom: 1px solid @neutral-200;
  cursor: pointer;
  transition: background 0.16s ease;

  &:last-child {
    border-bottom: none;
  }

  &:hover {
    background: @neutral-100;
  }

  &.selected {
    background: @primary-100;
    border-left: 3px solid @primary-600;
    padding-left: calc(@space-6 - 3px);
  }
}

.product-cell {
  /* Body Regular du design system */
  font-size: 14px;
  font-weight: 400; /* Regular */
  line-height: 16px;
  color: @neutral-800;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ==========================================
   COLONNES SPÉCIFIQUES
   ========================================== */
.col-image {
  display: flex;
  align-items: center;
  justify-content: center;
}

.product-image,
.product-image-placeholder {
  width: 56px;
  height: 56px;
  border-radius: @border-radius;
  border: 1px solid @neutral-200;
  transition: all 0.2s ease;
}

.product-image {
  object-fit: cover;
  cursor: zoom-in;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    border-color: @primary-600;
  }
}

.product-image-placeholder {
  background: @neutral-150;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 600;
  color: @neutral-600;
}

.col-libelle {
  /* Body Semibold du design system */
  font-weight: 500; /* Semibold */
  color: @neutral-900;
}

.col-pvc {
  text-align: right;
  /* Body Semibold du design system */
  font-weight: 500;
  color: @neutral-900;
  font-variant-numeric: tabular-nums;
}

.col-select {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ==========================================
   CHECKBOXES
   ========================================== */
.product-select-checkbox,
.product-select-all-checkbox {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: @primary-600;

  &:hover {
    transform: scale(1.05);
  }
}

/* ==========================================
   PAGINATION - Design System
   ========================================== */
.pagination-container {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px 20px;
  background: #F9FAFB;
  border-top: 1px solid #E5E7EB;
}

.pagination-info {
  color: #6B7280;
  font-size: 13px;
  font-weight: 500;
  font-family: @font-family;
}

.pagination-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
}

.pagination-btn {
  background: #FFFFFF;
  border: 1px solid #E5E7EB;
  border-radius: @border-radius;
  padding: 6px 12px;
  font-size: 13px;
  font-weight: 600;
  color: #4B5563;
  cursor: pointer;
  transition: all 150ms ease;
  font-family: @font-family;

  &:hover:not(:disabled):not(.active) {
    border-color: #613BFF;
    color: #613BFF;
    background: #F9FAFB;
  }

  &:active:not(:disabled) {
    transform: translateY(1px);
  }

  &.active {
    background: #613BFF;
    color: #FFFFFF;
    border-color: #613BFF;
  }

  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
}

.product-page-numbers {
  display: flex;
  align-items: center;
  gap: 4px;
}

.product-page-size-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.product-page-size-label {
  color: #6B7280;
  font-size: 13px;
  font-weight: 500;
  font-family: @font-family;
  margin: 0;
  cursor: default;
}

.product-page-size-select {
  font-size: 13px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: @border-radius;
  border: 1px solid #E5E7EB;
  background: #FFFFFF;
  color: #4B5563;
  cursor: pointer;
  transition: all 150ms ease;
  font-family: @font-family;
  min-width: 50px;
  height: 32px;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 6px center;
  background-size: 18px;
  padding-right: 28px;

  &:hover {
    border-color: #613BFF;
    color: #613BFF;
  }

  &:focus {
    outline: none;
    border-color: #613BFF;
    background-color: #F9FAFB;
  }

  option {
    font-family: @font-family;
    font-size: 13px;
    font-weight: 600;
    color: #4B5563;
    background: #FFFFFF;
    padding: 4px;
  }
}

/* ==========================================
   BADGES pour Statut et Rayon
   ========================================== */

/* Badge Statut - Style avec gradient et ombre */
.status-badge {
  display: inline-flex;
  padding: @space-1 @space-2;
  border-radius: @border-radius;
  font-size: 9px;
  font-weight: 800; /* Extra bold */
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: @neutral-0;
  line-height: 1.2;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  white-space: nowrap;
}

/* Variantes de badges statut basées sur le design system */
.status-valide {
  background: linear-gradient(135deg, #149563, #2F684C); /* Success 600 -> 700 */
}

.status-actif {
  background: linear-gradient(135deg, #0F83B9, #006385); /* Secondary 600 -> 700 */
}

.status-en-cours {
  background: linear-gradient(135deg, #D9822F, #B76201); /* Warning 600 -> 700 */
}

.status-brouillon {
  background: linear-gradient(135deg, #A03EC8, #8A19AC); /* Alternative 600 -> 700 */
}

.status-refuse {
  background: linear-gradient(135deg, #D42028, #BE1A22); /* Danger 600 -> 700 */
}

.status-nouveau {
  background: linear-gradient(135deg, #8775FF, #613BFF); /* Primary 500 -> 600 */
}

.status-default {
  background: linear-gradient(135deg, #666687, #4A4A6A); /* Neutral 600 -> 700 */
}

/* Badge Rayon - Style neutre */
.rayon-badge {
  background: @neutral-100;
  color: @neutral-700;
  padding: 2px @space-2;
  border-radius: @border-radius;
  font-size: 11px;
  font-weight: 700; /* Bold */
  display: inline-flex;
  white-space: nowrap;
}

/* ==========================================
   MODAL ZOOM IMAGE
   ========================================== */
.image-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  cursor: zoom-out;

  &.active {
    display: flex;
  }

  img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    border-radius: @border-radius;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  }
}

/* ==========================================
   DEBUG BOX (optionnel)
   ========================================== */
.product-debug-box {
  margin-top: @space-5;
  padding: @space-4;
  background: #EBFAF1; /* Success 100 */
  border: 1px solid #5DB086; /* Success 500 */
  border-radius: @border-radius;
  font-size: 11px;
  font-family: 'Courier New', monospace;
  color: @neutral-900;
  line-height: 1.6;

  b {
    font-weight: 600;
  }
}
